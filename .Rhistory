}
summary(end.data)
# Fichier avec nombre par noeud
node <- read_excel("End_growth_root_data/root_data/0.global_root_data/node.xlsx")
node$variety = as.factor(node$variety)
View(end.data)
end.data <- data.frame()
for (variety in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
paste0("C:/Nico/Github/Memoire/End_growth_root_data/root_data/0.global_root_data/",variety,".csv") %>%
read.csv() %>%
mutate(variety = factor(variety)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(end.data,.) -> end.data
}
summary(end.data)
# Fichier avec nombre par noeud
node <- read_excel("End_growth_root_data/root_data/0.global_root_data/node.xlsx")
node$variety = as.factor(node$variety)
View(end.data)
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1',
diameter[match(parent_name, root_name)],
NA))
View(end.data)
View(end.data)
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA))
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA))
View(end.data)
View(end.data)
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
View(end.data)
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
View(end.data)
end.data %>%
ggplot(aes(x=variety,y=diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='lateral root')+
theme_gray()
end.data %>%
ggplot(aes(x=variety,y=ratio_diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='lateral root')+
theme_gray()
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
end.data %>%
ggplot(aes(x=variety,y=ratio_diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='ratio root/parent_root')+
theme_gray()
end.data %>%
lm(ratio_diameter ~ variety, data=.) -> mod
summary(mod)
pander(anova(mod))
par(mfrow = c(2,2))
plot(mod)
pander(leveneTest(mod, center = "median"))
View(end.data)
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
end.data %>%
ggplot(aes(x=variety,y=ratio_diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='ratio root/parent_root')+
theme_gray()
# Chunk 1: setup
rm(list=ls()) # Clean the workspace
# Load your packages here
library(dplyr)
library(readxl)
library(ggplot2)
library(stringr)
library(pander)
library(car)
# Chunk 2
# Load your data here
aerial <- read_excel("Aerials data/Sorgho20_21_22_CIPF.xlsx")
# Chunk 3
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.growth <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early growth.csv")
# Chunk 4
end.data <- data.frame()
for (variety in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
paste0("C:/Nico/Github/Memoire/End_growth_root_data/root_data/0.global_root_data/",variety,".csv") %>%
read.csv() %>%
mutate(variety = factor(variety)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(end.data,.) -> end.data
}
summary(end.data)
# Fichier avec nombre par noeud
node <- read_excel("End_growth_root_data/root_data/0.global_root_data/node.xlsx")
node$variety = as.factor(node$variety)
# Chunk 5
#PLot
ggplot(aggregate(number ~variety+node,data = node,FUN=mean),aes(x=node,y=number,color=variety)) +
geom_point(alpha = 0.5, size=3) +
geom_line()+
labs(color = "Variété",
x= "#node",
y= "# roots per node",
title = "nombre de racine par noeuds")
#Table
pander(left_join(
node %>% group_by(variety, node) %>% summarize(mean = mean(number)),
node %>% group_by(variety, node) %>% summarize(sd = sd(number))
))
# Chunk 6
# Boxplot nodal
subset(end.data, root_ontology==" Root") %>%
ggplot(aes(x=variety,y=diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='nodal root')+
theme_classic()
# Chunk 7
subset(end.data, root_ontology==" Root") %>%
lm(diameter ~ variety, data=.) -> mod
summary(mod)
pander(anova(mod))
par(mfrow = c(2,2))
plot(mod)
pander(leveneTest(mod, center = "median"))
# Chunk 8
end.data <- end.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
end.data %>%
ggplot(aes(x=variety,y=ratio_diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='ratio root/parent_root')+
theme_gray()
# Chunk 9
end.data %>%
lm(ratio_diameter ~ variety, data=.) -> mod
summary(mod)
pander(anova(mod))
par(mfrow = c(2,2))
plot(mod)
pander(leveneTest(mod, center = "median"))
# Chunk 10
# Boxplot lateral
subset(end.data, root_ontology==" Lateral root") %>%
ggplot(aes(x=variety,y=diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='lateral root')+
theme_gray()
# Chunk 11
subset(end.data, root_ontology==" Lateral root") %>%
lm(diameter ~ variety, data=.) -> mod
summary(mod)
pander(anova(mod))
par(mfrow = c(2,2))
plot(mod)
pander(leveneTest(mod, center = "median"))
# Chunk 12
# Chunk 13
# Chunk 14
# Chunk 15
# Chunk 16
# Chunk 17
# Chunk 18
# Chunk 19
# Chunk 20
# Chunk 21
# Chunk 22
# Chunk 23
# Chunk 24
# Chunk 25
# Chunk 26
# Chunk 27
# Chunk 28
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.growth <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early growth.csv")
View(early.global)
View(early.growth)
View(early.global)
early.global %>%
grep(image=='A')
early.global %>%
grep(image='A')
?(grep)
?grep
grep(early.global$image,'A')
grep(early.global$image='A')
grep(early.global$image,'A')
grep('A',early.global$image)
early.global %>%
grep('A',.)
early.global %>%
grep('A',.)
early.global %>%
grep('A',.$image)
early.global %>%
subset(grep('A',.$image))
grep('A',early.global$image)
early.global %>%
subset(.,grep('A',.$image))
early.global %>%
filter(grep('A',.$image))
early.global %>%
filter(grep('A',image))
early.global %>%
filter(grep1('A',image))
rm(list=ls()) # Clean the workspace
# Load your packages here
library(dplyr)
library(readxl)
library(ggplot2)
library(stringr)
library(pander)
library(car)
early.global %>%
filter(grep1('A',image))
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.growth <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early growth.csv")
early.global %>%
filter(grep1('A',image))
early.global %>%
filter(grep('A',image))
early.global %>%
filter(grep('A',image))
early.global %>%
subset(grep('A',.$image))
early.global %>%
filter(grep('A',.$image))
early.global %>%
select(grep('A',.$image))
early.global %>%
subset(grepl('A',.$image))
early.global %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
subset(grepl('A',.$image)) %>%
```
early.global %>%
select('image','root_name','root','diameter','root_ontology','parent_name','variety') %>%
subset(grepl('A',.$image)) %>%
```
early.global %>%
select('image','root_name','root','diameter','root_ontology','parent_name','variety')
early.global %>%
select('image','root_name','root','diameter','root_ontology','parent_name') %>%
subset(grepl('A',.$image)) %>%
```
early.global %>%
select('image','root_name','root','diameter','root_ontology','parent_name')
early.global %>%
select('image','root_name','root','diameter','root_ontology','parent_name') %>%
subset(grepl('A',.$image))
select('image','root_name','root','diameter','root_ontology','parent_name','variety') %>%
subset(grepl('A',.$image))
early.data <- data.frame()
for (v in c('A','B','H','J','S','V')) {
early.global %>%
mutate(variety=
if (grepl('A',.$image)) {factor('Amiggo')}
else if (grepl('B',.$image)) {factor('Biggben')}
else factor('a')
)
select('image','root_name','root','diameter','root_ontology','parent_name','variety') %>%
subset(grepl('A',.$image))
}
'Amiggo'[1]
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.growth <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early growth.csv")
#Crée dataset
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=variete)
select('image','root_name','root','diameter','root_ontology','parent_name','variety')
}
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('image','root_name','root','diameter','root_ontology','parent_name','variety')
}
early.global %>%
subset(grepl(substr('Amiggo', start = 1, stop = 1),.$image))
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('image','root_name','root','diameter','root_ontology','parent_name','variety')
}
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image))
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete))
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete))
}
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('image','root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(early.data,.) -> end.data
}
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('image','root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(early.data,.) -> early.data
}
View(early.data)
View(early.data)
View(end.data)
end.data <- data.frame()
for (variety in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
paste0("C:/Nico/Github/Memoire/End_growth_root_data/root_data/0.global_root_data/",variety,".csv") %>%
read.csv() %>%
mutate(variety = factor(variety)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(end.data,.) -> end.data
}
summary(end.data)
# Fichier avec nombre par noeud
node <- read_excel("End_growth_root_data/root_data/0.global_root_data/node.xlsx")
node$variety = as.factor(node$variety)
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(early.data,.) -> early.data
}
View(early.data)
View(end.data)
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
rbind(early.data,.) -> early.data
}
# Boxplot nodal
subset(early.data, root_ontology==" Root") %>%
ggplot(aes(x=variety,y=diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='nodal root')+
theme_classic()
early.data <- early.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
end.data %>%
ggplot(aes(x=variety,y=ratio_diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='ratio root/parent_root')+
theme_gray()
early.data <- early.data %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA))
early.data %>%
ggplot(aes(x=variety,y=ratio_diameter))+
geom_boxplot()+
stat_summary(fun=mean, geom="point", shape=23, size=4)+
labs(title='ratio root/parent_root')+
theme_gray()
View(early.data)
View(early.data)
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
View(early.data)
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
View(early.data)
View(early.global)
View(early.data)
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent != '-1', diameter[match(parent, root)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
View(early.data)
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
mutate(parent_diameter = ifelse(parent != '-1', diameter[match(parent, root)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
select('root_name','root','diameter','root_ontology','parent','parent_name','variety') %>%
rbind(early.data,.) -> early.data
}
View(early.data)
View(early.global)
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent != '-1', diameter[match(parent, root)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
View(early.data)
early.global <- read.csv("C:/Nico/Github/Memoire/Early_growth_root_data/early global.csv")
early.data <- data.frame()
for (variete in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
early.global %>%
subset(grepl(substr(variete, start = 1, stop = 1),.$image)) %>%
mutate(variety=factor(variete)) %>%
select('root_name','root','diameter','root_ontology','parent','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent != '-1', diameter[match(parent, root)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(early.data,.) -> early.data
}
View(early.data)
end.data <- data.frame()
for (variety in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
paste0("C:/Nico/Github/Memoire/End_growth_root_data/root_data/0.global_root_data/",variety,".csv") %>%
read.csv() %>%
mutate(variety = factor(variety)) %>%
select('root_name','root','diameter','root_ontology','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent_name != '-1', diameter[match(parent_name, root_name)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(end.data,.) -> end.data
}
summary(end.data)
# Fichier avec nombre par noeud
node <- read_excel("End_growth_root_data/root_data/0.global_root_data/node.xlsx")
node$variety = as.factor(node$variety)
View(end.data)
end.data <- data.frame()
for (variety in c("Amiggo","Biggben","Hyperion","Juno","Swingg","Vegga")) {
paste0("C:/Nico/Github/Memoire/End_growth_root_data/root_data/0.global_root_data/",variety,".csv") %>%
read.csv() %>%
mutate(variety = factor(variety)) %>%
select('root_name','root','diameter','root_ontology','parent','parent_name','variety') %>%
mutate(parent_diameter = ifelse(parent != '-1', diameter[match(parent, root)],NA)) %>%
mutate(ratio_diameter = ifelse(parent_name != '-1', diameter/parent_diameter, NA)) %>%
rbind(end.data,.) -> end.data
}
summary(end.data)
# Fichier avec nombre par noeud
node <- read_excel("End_growth_root_data/root_data/0.global_root_data/node.xlsx")
node$variety = as.factor(node$variety)
View(end.data)
