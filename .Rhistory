#Plot precipitation
mean_cult_rain <- c('2020'=mean((subset(meteo,annee==2020)$mean_rain)))
mean_cult_rain
#Plot precipitation
mean_cult_rain <-data.frame(
label=c(mean((subset(meteo,annee==2020)$mean_rain)),1,2),
annee=c(2020,2021,2022))
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,aes(x=-Inf,y=-Inf,label=label))
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=1)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=100)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=7,
vjust=100)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=7,
vjust=100)
#Plot precipitation
mean_cult_rain <-data.frame(
label=c('d','d','d'),
annee=c(2020,2021,2022))
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=7,
vjust=100)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-1)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-150)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-0.5)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-0.2)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-4)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-150)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-6)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-10)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-40)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-30)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.1,
vjust=-35)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-0.7,
vjust=-35)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-4,
vjust=-35)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-4,
vjust=-38)
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-4,
vjust=-37)
#Plot precipitation
mean_cult_rain <-data.frame(
label=c(mean((subset(meteo,annee==2020)$mean_rain)),'d','d'),
annee=c(2020,2021,2022))
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
geom_text(data=mean_cult_rain,
aes(x=-Inf,y=-Inf,label=label),
hjust=-4,
vjust=-37)
#Plot precipitation
mean_culture_rain <- data.frame('2020'=mean((subset(meteo,annee==2020)$mean_rain)))
View(mean_cult_rain)
View(mean_culture_rain)
#Plot precipitation
mean_culture_rain <- data.frame(2020=mean((subset(meteo,annee==2020)$mean_rain)))
mean_culture_rain <- c(
mean((subset(meteo,annee==2020)$mean_rain)),
mean((subset(meteo,annee==2021)$mean_rain)),
mean((subset(meteo,annee==2022)$mean_rain))
)
mean_culture_rain <- rbind(c(2020,2021,2022),mean_culture_rain)
View(mean_cult_rain)
View(mean_culture_rain)
#Plot precipitation
mean_culture_rain <- data.frame(c(2020,2021,2022),mean_culture_rain)
#Plot precipitation
mean_culture_rain <- data.frame(c(2020,2021,2022)=mean_culture_rain)
rm(list=ls()) # Clean the workspace
library(pander)
library(readxl)
library(tidyverse)
library(knitr)
library(htmltools)
meteo <- read_excel("Sorgho20_21_22_CIPF.xlsx",sheet = "pluvio_temp")
mean_culture_rain <- c(
mean((subset(meteo,annee==2020)$mean_rain)),
mean((subset(meteo,annee==2021)$mean_rain)),
mean((subset(meteo,annee==2022)$mean_rain))
)
mean_culture_rain <- data.frame(c(2020,2021,2022),mean_culture_rain)
View(mean_culture_rain)
meteo <- read_excel("Sorgho20_21_22_CIPF.xlsx",sheet = "pluvio_temp")
mean_culture_rain <- c(
mean((subset(meteo,annee==2020)$mean_rain)),
mean((subset(meteo,annee==2021)$mean_rain)),
mean((subset(meteo,annee==2022)$mean_rain))
)
mean_culture_rain1 <- rbind(c(2020,2021,2022),mean_culture_rain)
mean_culture_rain1
View(mean_culture_rain1)
mean_culture_rain <- data.frame(c(2020,2021,2022),mean_culture_rain)
View(mean_culture_rain)
# Chunk 1: setup
rm(list=ls()) # Clean the workspace
library(pander)
library(readxl)
library(tidyverse)
library(knitr)
library(htmltools)
# Chunk 2
data<- read_excel("Sorgho20_21_22_CIPF.xlsx")
head(data)
# Chunk 3
cols_to_remove <- c('date_semis','date_recolte','lieu','precedent','traitement_semences','densite_semis')
data <- data[, ! names(data) %in% cols_to_remove, drop = F]
data$variete <- as.factor(data$variete)
pander(summary(data))
# Chunk 4
meteo <- read_excel("Sorgho20_21_22_CIPF.xlsx",sheet = "pluvio_temp")
mean_culture_rain <- c(
mean((subset(meteo,annee==2020)$mean_rain)),
mean((subset(meteo,annee==2021)$mean_rain)),
mean((subset(meteo,annee==2022)$mean_rain))
)
mean_culture_rain <- data.frame(c(2020,2021,2022),mean_culture_rain)
#Plot precipitation
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
geom_hline(yintercept = mean(meteo$mean_rain))+
labs(title = "Temperature et pluviometrie")
#Plot temperature
ggplot(data = meteo, aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_temp,width=0.5),fill='red')+
labs(title='Temperature')
# Chunk 5
ggplot(data=data,aes(x=variete,y=rendement_MS))+
geom_bar(stat = 'identity')+ facet_wrap(~annee)+
labs(x='Variété',
y='rendement [T/ha]')
#Plot precipitation
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
labs(title = "Temperature et pluviometrie")
ggplot(data=data,aes(x=variete,y=rendement_MS))+
geom_bar(stat = 'identity')+ facet_wrap(~annee)+
labs(x='Variété',
y='rendement [T/ha]')
View(mean_culture_rain)
View(data)
View(data)
ggplot(data=data,aes(x=annee,y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)
ggplot(data=data,aes(x=annee,y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement'
title='ddd')
ggplot(data=data,aes(x=annee,y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')+
text('aaa')
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')+
text(x=2,y=4,'aaa')
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')+
text(x=2,y=4,'aaa')
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')+
text(x=2,y=4,label='aaa')
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')
data <- read_excel('Sorgho_20_21_22_CIPF.xslx')
rm(list=ls()) # Clean the workspace
library(pander)
library(readxl)
library(tidyverse)
library(knitr)
library(htmltools)
data <- read_excel('Sorgho_20_21_22_CIPF.xslx')
data <- read_excel('Sorgho20_21_22_CIPF.xslx')
data<- read_excel("Sorgho20_21_22_CIPF.xlsx")
head(data)
# Chunk 1: setup
rm(list=ls()) # Clean the workspace
library(pander)
library(readxl)
library(tidyverse)
library(knitr)
library(htmltools)
# Chunk 2
data<- read_excel("Sorgho20_21_22_CIPF.xlsx")
head(data)
# Chunk 3
cols_to_remove <- c('date_semis','date_recolte','lieu','precedent','traitement_semences','densite_semis')
data <- data[, ! names(data) %in% cols_to_remove, drop = F]
data$variete <- as.factor(data$variete)
pander(summary(data))
# Chunk 4
meteo <- read_excel("Sorgho20_21_22_CIPF.xlsx",sheet = "pluvio_temp")
mean_culture_rain <- c(
mean((subset(meteo,annee==2020)$mean_rain)),
mean((subset(meteo,annee==2021)$mean_rain)),
mean((subset(meteo,annee==2022)$mean_rain))
)
mean_culture_rain <- data.frame(c(2020,2021,2022),mean_culture_rain)
#Plot precipitation
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
labs(title = "Temperature et pluviometrie")
#Plot temperature
ggplot(data = meteo, aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_temp,width=0.5),fill='red')+
labs(title='Temperature')
# Chunk 5
ggplot(data=data,aes(x=variete,y=rendement_MS))+
geom_bar(stat = 'identity')+ facet_wrap(~annee)+
labs(x='Variété',
y='rendement [T/ha]')
# Chunk 6
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')
# Chunk 1: setup
rm(list=ls()) # Clean the workspace
library(pander)
library(readxl)
library(tidyverse)
library(knitr)
library(htmltools)
# Chunk 2
data <- read_excel("Stabel rendement 2017_2021.xls")
("Stabel rendement 2017_2021.xls")
data <- read_excel("Stabel rendement 2017_2021.xls")
# Chunk 1: setup
rm(list=ls()) # Clean the workspace
library(pander)
library(readxl)
library(tidyverse)
library(knitr)
library(htmltools)
# Chunk 2
data<- read_excel("Sorgho20_21_22_CIPF.xlsx")
head(data)
# Chunk 3
cols_to_remove <- c('date_semis','date_recolte','lieu','precedent','traitement_semences','densite_semis')
data <- data[, ! names(data) %in% cols_to_remove, drop = F]
data$variete <- as.factor(data$variete)
pander(summary(data))
# Chunk 4
meteo <- read_excel("Sorgho20_21_22_CIPF.xlsx",sheet = "pluvio_temp")
mean_culture_rain <- c(
mean((subset(meteo,annee==2020)$mean_rain)),
mean((subset(meteo,annee==2021)$mean_rain)),
mean((subset(meteo,annee==2022)$mean_rain))
)
mean_culture_rain <- data.frame(c(2020,2021,2022),mean_culture_rain)
#Plot precipitation
ggplot(data=meteo,aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_rain),width=0.5,fill='blue')+
labs(title = "Pluviometrie")
#Plot temperature
ggplot(data = meteo, aes(x=Mois))+
facet_wrap(~annee)+
geom_col(aes(y=mean_temp,width=0.5),fill='red')+
labs(title='Temperature')
# Chunk 5
ggplot(data=data,aes(x=variete,y=rendement_MS))+
geom_bar(stat = 'identity')+ facet_wrap(~annee)+
labs(x='Variété',
y='rendement [T/ha]')
# Chunk 6
ggplot(data=data,aes(x=as.factor(annee),y=rendement_MS))+
geom_bar(stat='identity')+
facet_wrap(~variete)+
labs(x='annee',
y='rendement')
View(meteo)
plot.new()
par(mar=c(4,4,3,4))
barplot(meteo$mean_rain,col='cyan',names.arg = Mois,axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
ew()
plot.new()
par(mar=c(4,4,3,4))
barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
plot.new()
par(mar=c(4,4,3,4))
barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 125, by=25))
plot.new()
par(mar=c(4,4,3,4))
barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
plot.new()
par(mar=c(4,4,3,4))
position =barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
par(new=TRUE,mar=c(4,4,3,4))
maximal = max(position)+(position[2]-position[1])
plot(position,meteo$mean_temp,col="red",type="o",lwd=2,pch=16,axes=F,ylab="",xlab="",ylim=c(0,25), xlim=c(0,length(Temperature)),yaxs ="i")
plot.new()
par(mar=c(4,4,3,4))
position =barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
par(new=TRUE,mar=c(4,4,3,4))
maximal = max(position)+(position[2]-position[1])
plot(position,meteo$mean_temp,col="red",type="o",lwd=2,pch=16,axes=F,ylab="",xlab="",ylim=c(0,25), xlim=c(0,length(meteo$mean_temp)),yaxs ="i")
plot.new()
par(mar=c(4,4,3,4))
position =barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
par(new=TRUE,mar=c(4,4,3,4))
maximal = max(position)+(position[2]-position[1])
plot(position,meteo$mean_temp,col="red",type="o",lwd=2,pch=16,axes=F,ylab="",xlab="",ylim=c(0,25), xlim=c(0,length(meteo$mean_temp)),yaxs ="i")
plot.new()
par(mar=c(4,4,3,4))
position =barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
par(new=TRUE,mar=c(4,4,3,4))
maximal = max(position)+(position[2]-position[1])
plot(position,meteo$mean_temp,col="red",type="o",lwd=2,pch=16,axes=F,ylab="",xlab="",ylim=c(0,25), xlim=c(0,length(meteo$mean_temp)),yaxs ="i")
axis(4,col.axis='red',col='red')
plot.new()
par(mar=c(4,4,3,4))
position =barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température par mois de culture ",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
par(new=TRUE,mar=c(4,4,3,4))
maximal = max(position)+(position[2]-position[1])
plot(position,meteo$mean_temp,col="red",type="o",lwd=2,pch=16,axes=F,ylab="",xlab="",ylim=c(0,25), xlim=c(0,length(meteo$mean_temp)),yaxs ="i")
axis(4,col.axis='red',col='red')
box();grid()
plot.new()
par(mar=c(4,4,3,4))
position =barplot(meteo$mean_rain,col='cyan',names.arg = 'Mois',axes=F,ylab="",xlab="",main="Precipitation et température",ylim=c(0,200))
axis(2,col="black",at=seq(0, 200, by=25))
par(new=TRUE,mar=c(4,4,3,4))
maximal = max(position)+(position[2]-position[1])
plot(position,meteo$mean_temp,col="red",type="o",lwd=2,pch=16,axes=F,ylab="",xlab="",ylim=c(0,25), xlim=c(0,length(meteo$mean_temp)),yaxs ="i")
axis(4,col.axis='red',col='red')
box();grid()
Mois = c('06/20','07/20','08/20','09/20','10/20',
'06/21','07/21','08/21','09/21','10/21'
'06/22','07/22','08/22','09/22','10/22')
Mois = c('06/20','07/20','08/20','09/20','10/20',
'06/21','07/21','08/21','09/21','10/21',
'06/22','07/22','08/22','09/22','10/22')
plot.new()
par(mar=c(4,4,3,4))
position=barplot(meteo$mean_rain,col='cyan',names.arg = Mois,axes=F,ylab="",xlab="",main="Precipitation et température",ylim=c(0,200))
